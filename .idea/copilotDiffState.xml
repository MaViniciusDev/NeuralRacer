<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/SENSORES_FUZZY.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SENSORES_FUZZY.md" />
              <option name="updatedContent" value="# Sistema de Sensores Fuzzy - NeuralRacer&#10;&#10;## Visão Geral&#10;O sistema de sensores foi implementado para detectar obstáculos (paredes) e sugerir a direção ideal usando lógica fuzzy.&#10;&#10;## Configuração dos Sensores&#10;&#10;### 5 Sensores Frontais&#10;Os sensores estão posicionados na frente do carro com os seguintes ângulos (relativos ao ângulo do carro):&#10;&#10;1. **Sensor Esquerdo Externo**: -45° (muito à esquerda)&#10;2. **Sensor Esquerdo Interno**: -22.5° (esquerda)&#10;3. **Sensor Central**: 0° (frente)&#10;4. **Sensor Direito Interno**: 22.5° (direita)&#10;5. **Sensor Direito Externo**: 45° (muito à direita)&#10;&#10;### Alcance&#10;- Alcance máximo: 100 unidades&#10;- Valores: 0-100 (onde 0 = parede muito perto, 100 = parede muito longe)&#10;&#10;## Sistema Fuzzy&#10;&#10;### Variáveis Antecedentes (Distância dos Sensores)&#10;Cada sensor tem 5 níveis de distância:&#10;&#10;1. **MUITO_PERTO**: 0-20 (trapezoidal)&#10;2. **PERTO**: 15-40 (triangular, pico em 27.5)&#10;3. **MEDIO**: 35-65 (triangular, pico em 50)&#10;4. **LONGE**: 60-85 (triangular, pico em 72.5)&#10;5. **MUITO_LONGE**: 80-100 (trapezoidal)&#10;&#10;### Variável Consequente (Ângulo de Direção)&#10;O ângulo sugerido tem 5 níveis:&#10;&#10;1. **MUITO_ESQUERDA**: -36° (virar muito à esquerda)&#10;2. **ESQUERDA**: -22.5° (virar à esquerda)&#10;3. **CENTRO**: 0° (manter direção)&#10;4. **DIREITA**: 22.5° (virar à direita)&#10;5. **MUITO_DIREITA**: 36° (virar muito à direita)&#10;&#10;## Regras Fuzzy&#10;&#10;### Virar MUITO à ESQUERDA&#10;- SE direita próxima está MUITO_PERTO E esquerda distante está LONGE&#10;- SE direita distante está PERTO E esquerda distante está MUITO_LONGE&#10;&#10;### Virar à ESQUERDA&#10;- SE direita próxima está PERTO&#10;- SE centro está MEDIO E direita próxima está MEDIO&#10;&#10;### Manter CENTRO&#10;- SE centro está LONGE E sensores laterais equilibrados&#10;- SE centro está MUITO_LONGE&#10;&#10;### Virar à DIREITA&#10;- SE esquerda próxima está PERTO&#10;- SE centro está MEDIO E esquerda próxima está MEDIO&#10;&#10;### Virar MUITO à DIREITA&#10;- SE esquerda próxima está MUITO_PERTO E direita distante está LONGE&#10;- SE esquerda distante está PERTO E direita distante está MUITO_LONGE&#10;&#10;## Defuzzificação&#10;O sistema usa o método do **Centro de Gravidade (Centroide)** para calcular o ângulo final sugerido:&#10;&#10;```&#10;ângulo_final = Σ(ativação_i × ângulo_i) / Σ(ativação_i)&#10;```&#10;&#10;## Visualização&#10;&#10;### No Jogo&#10;- **Linhas coloridas** saem do carro mostrando os sensores&#10;- **Cor verde**: Parede longe (seguro)&#10;- **Cor vermelha**: Parede próxima (perigo)&#10;- Pontos nas extremidades indicam onde os sensores detectaram algo&#10;&#10;### Label de Informações&#10;No canto superior esquerdo, você verá:&#10;```&#10;Sensores: L-Ext:XX | L-Int:XX | C:XX | R-Int:XX | R-Ext:XX | Fuzzy:XX.X°&#10;```&#10;&#10;Onde:&#10;- **L-Ext**: Sensor esquerdo externo&#10;- **L-Int**: Sensor esquerdo interno&#10;- **C**: Sensor central&#10;- **R-Int**: Sensor direito interno&#10;- **R-Ext**: Sensor direito externo&#10;- **Fuzzy**: Ângulo sugerido pelo sistema fuzzy&#10;&#10;## Como Funciona&#10;&#10;1. **Atualização**: A cada frame, os sensores são atualizados com a posição e ângulo do carro&#10;2. **Leitura**: Cada sensor lança um &quot;raio&quot; na sua direção e detecta a distância até a parede&#10;3. **Fuzzificação**: As distâncias são convertidas em graus de pertinência para cada nível&#10;4. **Inferência**: As regras fuzzy são avaliadas e geram níveis de ativação&#10;5. **Defuzzificação**: O ângulo final é calculado usando centro de gravidade&#10;6. **Sugestão**: O ângulo é disponibilizado para o controle do carro&#10;&#10;## Classes Implementadas&#10;&#10;### SensorSystem.java&#10;Classe principal que gerencia:&#10;- Leitura dos sensores (ray casting)&#10;- Funções de pertinência (triangular e trapezoidal)&#10;- Sistema de inferência fuzzy&#10;- Defuzzificação&#10;- Visualização dos sensores&#10;&#10;### Carro.java (modificado)&#10;Adicionado:&#10;- Instância de `SensorSystem`&#10;- Atualização automática dos sensores no método `update()`&#10;- Métodos públicos para acessar dados dos sensores&#10;&#10;### Jogo.java (modificado)&#10;Adicionado:&#10;- Label de informações dos sensores&#10;- Método `drawSensors()` para visualização&#10;- Método `updateSensorInfo()` para atualizar o label&#10;&#10;## Uso Futuro&#10;&#10;O sistema está pronto para ser usado em:&#10;- **Controle manual assistido**: Sugerir direção ao jogador&#10;- **Controle automático**: Usar o ângulo fuzzy para pilotar o carro&#10;- **Treinamento de IA**: Usar como feature para redes neurais&#10;- **Debug e análise**: Visualizar o comportamento do sistema&#10;&#10;## Exemplo de Uso&#10;&#10;```java&#10;// Obter leituras dos sensores&#10;double[] readings = carro.getSensorReadings();&#10;&#10;// Obter ângulo sugerido pelo sistema fuzzy&#10;double suggestedAngle = carro.getFuzzySuggestedSteeringAngle();&#10;&#10;// Aplicar o ângulo sugerido (exemplo de controle automático)&#10;// carro.applySteering(suggestedAngle);&#10;```&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>